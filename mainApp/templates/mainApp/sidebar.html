{% load static %}

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-3 col-md-4">
            <div class="sidenav">
                <a href="/">
                    <img src="{% static 'media/images/logo.png' %}" alt="" class="sidebar-image">
                </a>
                <br>
                <ul>
                    {% if categories %}
                        {%  for cat in categories %}
                            {% if cat.subcategory_set.all %}
                                 <li class="nav-item">
                                    <a href="#" data-toggle="collapse" data-target="#createMenu{{ cat.pk }}">{{ cat }}</a>
                                    <ul class="collapse" id="createMenu{{ cat.pk }}">
                                        {% for subcat in cat.subcategory_set.all %}
                                            <li><a href="/category/{{ cat.pk }}/{{ subcat.pk }}" class="collapse-item">{{ subcat }}</a></li>
                                        {% endfor %}
                                    </ul>
                                 </li>
                            {% else %}
                                <li class="nav-item">
                                    <a class="nav-link" href="/category/{{ cat.pk }}">{{ cat }}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    <li class="nav-item">
                        {% if user.is_authenticated %}
                            <a class="nav-link" href="/logout">Logout</a>
                        {% else %}
                            <a class="nav-link" href="/login">Login</a>
                        {% endif %}
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
